{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React from 'react';\nimport CartItem from \"../Components/CartItem\";\nimport { useSelector } from 'react-redux';\nimport { usePostCartMutation } from \"../Services/shopServices\";\nimport { useGetOrderQuery } from \"../Services/shopServices\";\nimport Home from \"./Home\";\nimport { useDispatch } from \"react-redux\";\nimport { removeCartItem } from \"../features/Cart/cartSlice\";\nimport { addOrder } from \"../features/Orders/orders\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Cart = function Cart() {\n  var _useSelector = useSelector(function (state) {\n      return state.cartReducer.value;\n    }),\n    CartData = _useSelector.items,\n    total = _useSelector.total,\n    updatedAt = _useSelector.updatedAt,\n    user = _useSelector.user;\n  var _usePostCartMutation = usePostCartMutation(),\n    _usePostCartMutation2 = _slicedToArray(_usePostCartMutation, 2),\n    triggerPostCart = _usePostCartMutation2[0],\n    result = _usePostCartMutation2[1];\n  var _useGetOrderQuery = useGetOrderQuery(),\n    data = _useGetOrderQuery.data;\n  var dispatch = useDispatch();\n  var onConfirm = function onConfirm() {\n    triggerGetOrder({\n      items: CartData,\n      total: total,\n      user: user,\n      updatedAt: updatedAt\n    });\n    alert(\"ORDEN CONFIRMADA- GRACIAS POR COMPRAR\");\n    console.warn(\"ORDENES ?\", CartData);\n    dispatch(addOrder({\n      CartData: CartData\n    }));\n    dispatch(removeCartItem({}));\n  };\n  console.log(result);\n  console.warn(\"xd\", data);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(FlatList, {\n      data: CartData,\n      keyExtractor: function keyExtractor(cartItem) {\n        return cartItem.id;\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(CartItem, {\n          cartItem: item\n        });\n      }\n    }), _jsxs(View, {\n      style: styles.totalContainer,\n      children: [_jsx(Pressable, {\n        onPress: onConfirm,\n        children: _jsx(Text, {\n          children: \"Confirm\"\n        })\n      }), _jsxs(Text, {\n        children: [\"Total: $\", total]\n      })]\n    })]\n  });\n};\nexport default Cart;\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: 'space-between',\n    flex: 1\n  },\n  totalContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    paddingBottom: 20\n  }\n});","map":{"version":3,"names":["React","CartItem","useSelector","usePostCartMutation","useGetOrderQuery","Home","useDispatch","removeCartItem","addOrder","jsx","_jsx","jsxs","_jsxs","Cart","_useSelector","state","cartReducer","value","CartData","items","total","updatedAt","user","_usePostCartMutation","_usePostCartMutation2","_slicedToArray","triggerPostCart","result","_useGetOrderQuery","data","dispatch","onConfirm","triggerGetOrder","alert","console","warn","log","View","style","styles","container","children","FlatList","keyExtractor","cartItem","id","renderItem","_ref","item","totalContainer","Pressable","onPress","Text","StyleSheet","create","justifyContent","flex","flexDirection","alignItems","paddingBottom"],"sources":["C:/Users/Usuario/Desktop/Curso Apps/proyectoFinalApp/ProyectoFinalAppReactNativeFcurrao/src/Screens/Cart.jsx"],"sourcesContent":["import { FlatList, Pressable, StyleSheet, Text, View } from 'react-native'\r\nimport React from 'react'\r\nimport CartItem from '../Components/CartItem';\r\nimport { useSelector } from 'react-redux';\r\nimport { usePostCartMutation } from '../Services/shopServices';\r\nimport { useGetOrderQuery } from '../Services/shopServices';\r\nimport Home from './Home';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { removeCartItem } from \"../features/Cart/cartSlice\";\r\nimport { addOrder } from \"../features/Orders/orders\";\r\n\r\n\r\nconst Cart = () => {\r\n    const {items: CartData, total, updatedAt, user} = useSelector(state => state.cartReducer.value)\r\n    const [triggerPostCart, result] = usePostCartMutation() \r\n    \r\n    const {data} = useGetOrderQuery()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const onConfirm = () => {\r\n        triggerGetOrder({items: CartData, total, user, updatedAt}) \r\n        alert(\"ORDEN CONFIRMADA- GRACIAS POR COMPRAR\") \r\n        \r\n                console.warn(\"ORDENES ?\", CartData);\r\n                dispatch(addOrder({\r\n                    CartData\r\n                })) \r\n                dispatch(removeCartItem({ })) \r\n\r\n\r\n    }\r\n\r\n    console.log(result);\r\n    console.warn(\"xd\", data);\r\n\r\n    return (\r\n    <View style={styles.container}>\r\n        <FlatList\r\n            data={CartData}\r\n            keyExtractor={cartItem => cartItem.id}\r\n            renderItem={({item})=> {\r\n                return (\r\n                    <CartItem\r\n                        cartItem={item}\r\n                    />\r\n                )\r\n            }}\r\n        />\r\n        <View style={styles.totalContainer}>\r\n            <Pressable\r\n                onPress = {onConfirm}\r\n            >\r\n                <Text>\r\n                    Confirm\r\n                </Text>\r\n            </Pressable>\r\n            <Text>Total: ${total}</Text>\r\n        </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default Cart\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        justifyContent: 'space-between',\r\n        flex: 1,\r\n    },\r\n    totalContainer: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-around',\r\n        alignItems: 'center',\r\n        paddingBottom: 20,\r\n    }\r\n})\r\n\r\n\r\n// import { Pressable, StyleSheet, Text, View } from 'react-native'\r\n// import React from 'react'\r\n// // import CartData from '../Data/cart.json'\r\n// import CartItem from '../Components/CartItem'\r\n// import { FlatList } from 'react-native-web'\r\n// import { useSelector } from 'react-redux'\r\n// import { usePostCartMutation } from '../Services/shopServices'\r\n\r\n\r\n// const Cart = () => { \r\n//     const {items: CartData, total, updatedAt, user} = useSelector(state => state.cartReducer.value)\r\n//     const [triggerPostCart, result] = usePostCartMutation()\r\n\r\n      \r\n//     const confirmCart = () => {\r\n//         // chekeo de stock\r\n//         triggerPostCart({CartData, total ,user, updatedAt})\r\n//     }\r\n//     // const total = CartData.reduce((acc, item) => \r\n//     // acc += item.price * item.quantity, 0)\r\n\r\n\r\n//     console.log(\"result\",result);\r\n\r\n//   return (\r\n//     <View style={styles.container}>\r\n\r\n//     <FlatList\r\n//     data={CartData}\r\n//     keyExtractor={cartItem => cartItem.id}\r\n//     renderItem={ ({item})=>{\r\n//         return(\r\n//             <CartItem cartItem={item}/>\r\n//         )\r\n//     } }\r\n//     />    \r\n\r\n//     <View style={styles.totalContainer}>\r\n//     <Pressable\r\n//     onPress={confirmCart} >\r\n//         <Text  style={styles.confirm}>\r\n//           Confirm\r\n//         </Text>\r\n//     </Pressable>\r\n//         <Text style={styles.total}>\r\n//             Total : {total}\r\n//         </Text>\r\n\r\n//     </View>\r\n//     </View>\r\n//   )\r\n// }\r\n\r\n// export default Cart\r\n\r\n// const styles = StyleSheet.create({\r\n//     confirm:{ \r\n//             backgroundColor:\"blue\",\r\n//             padding: \"15px\",\r\n//             flexDirection: 'row',\r\n//             marginBottom: 100,\r\n//                 justifyContent:'center',\r\n//                 alignItems: 'center',\r\n//     },\r\n//         totalContainer:{\r\n//             flexDirection: 'row',\r\n//             marginBottom: 20,\r\n//             justifyContent:'center',\r\n//             alignItems: 'center',\r\n//         }, \r\n//         container: {\r\n//             justifyContent: 'space-between',\r\n//             flex: 1,\r\n//         },\r\n//         total: {\r\n//             marginTop: \"-100px\",\r\n//         padding: \"15px\",\r\n//         fontSize: 24,\r\n//     }\r\n// })"],"mappings":";;;;;;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ;AACf,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,mBAAmB;AAC5B,SAASC,gBAAgB;AACzB,OAAOC,IAAI;AACX,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,cAAc;AACvB,SAASC,QAAQ;AAAoC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAGrD,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;EACf,IAAAC,YAAA,GAAkDZ,WAAW,CAAC,UAAAa,KAAK;MAAA,OAAIA,KAAK,CAACC,WAAW,CAACC,KAAK;IAAA,EAAC;IAAjFC,QAAQ,GAAAJ,YAAA,CAAfK,KAAK;IAAYC,KAAK,GAAAN,YAAA,CAALM,KAAK;IAAEC,SAAS,GAAAP,YAAA,CAATO,SAAS;IAAEC,IAAI,GAAAR,YAAA,CAAJQ,IAAI;EAC9C,IAAAC,oBAAA,GAAkCpB,mBAAmB,CAAC,CAAC;IAAAqB,qBAAA,GAAAC,cAAA,CAAAF,oBAAA;IAAhDG,eAAe,GAAAF,qBAAA;IAAEG,MAAM,GAAAH,qBAAA;EAE9B,IAAAI,iBAAA,GAAexB,gBAAgB,CAAC,CAAC;IAA1ByB,IAAI,GAAAD,iBAAA,CAAJC,IAAI;EAEX,IAAMC,QAAQ,GAAGxB,WAAW,CAAC,CAAC;EAE9B,IAAMyB,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;IACpBC,eAAe,CAAC;MAACb,KAAK,EAAED,QAAQ;MAAEE,KAAK,EAALA,KAAK;MAAEE,IAAI,EAAJA,IAAI;MAAED,SAAS,EAATA;IAAS,CAAC,CAAC;IAC1DY,KAAK,CAAC,uCAAuC,CAAC;IAEtCC,OAAO,CAACC,IAAI,CAAC,WAAW,EAAEjB,QAAQ,CAAC;IACnCY,QAAQ,CAACtB,QAAQ,CAAC;MACdU,QAAQ,EAARA;IACJ,CAAC,CAAC,CAAC;IACHY,QAAQ,CAACvB,cAAc,CAAC,CAAE,CAAC,CAAC,CAAC;EAGzC,CAAC;EAED2B,OAAO,CAACE,GAAG,CAACT,MAAM,CAAC;EACnBO,OAAO,CAACC,IAAI,CAAC,IAAI,EAAEN,IAAI,CAAC;EAExB,OACAjB,KAAA,CAACyB,IAAI;IAACC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC1B/B,IAAA,CAACgC,QAAQ;MACLb,IAAI,EAAEX,QAAS;MACfyB,YAAY,EAAE,SAAAA,aAAAC,QAAQ;QAAA,OAAIA,QAAQ,CAACC,EAAE;MAAA,CAAC;MACtCC,UAAU,EAAE,SAAAA,WAAAC,IAAA,EAAW;QAAA,IAATC,IAAI,GAAAD,IAAA,CAAJC,IAAI;QACd,OACItC,IAAA,CAACT,QAAQ;UACL2C,QAAQ,EAAEI;QAAK,CAClB,CAAC;MAEV;IAAE,CACL,CAAC,EACFpC,KAAA,CAACyB,IAAI;MAACC,KAAK,EAAEC,MAAM,CAACU,cAAe;MAAAR,QAAA,GAC/B/B,IAAA,CAACwC,SAAS;QACNC,OAAO,EAAIpB,SAAU;QAAAU,QAAA,EAErB/B,IAAA,CAAC0C,IAAI;UAAAX,QAAA,EAAC;QAEN,CAAM;MAAC,CACA,CAAC,EACZ7B,KAAA,CAACwC,IAAI;QAAAX,QAAA,GAAC,UAAQ,EAACrB,KAAK;MAAA,CAAO,CAAC;IAAA,CAC1B,CAAC;EAAA,CACL,CAAC;AAEX,CAAC;AAED,eAAeP,IAAI;AAEnB,IAAM0B,MAAM,GAAGc,UAAU,CAACC,MAAM,CAAC;EAC7Bd,SAAS,EAAE;IACPe,cAAc,EAAE,eAAe;IAC/BC,IAAI,EAAE;EACV,CAAC;EACDP,cAAc,EAAE;IACZQ,aAAa,EAAE,KAAK;IACpBF,cAAc,EAAE,cAAc;IAC9BG,UAAU,EAAE,QAAQ;IACpBC,aAAa,EAAE;EACnB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}